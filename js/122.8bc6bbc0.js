(self["webpackChunkmusic"]=self["webpackChunkmusic"]||[]).push([[122],{2122:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return c}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"recMv Ocenter"},[t.vid?i("div",{staticStyle:{margin:"0 auto",width:"95%"}},[i("video",{staticStyle:{margin:"10px 0",width:"100%",height:"580px"},attrs:{controls:"",autoplay:"",loop:"",src:t.videoUrl}})]):t._e(),i("div",{staticClass:"videoDetail"},[i("div",[i("div",{staticStyle:{"margin-bottom":"10px"}},[i("div",{staticClass:"authorImg"},[i("img",{attrs:{src:t.videoDetail.creator.avatarUrl,alt:""}})]),i("span",{staticClass:"authorName"},[t._v(t._s(t.videoDetail.creator.nickname))])])]),i("div",{staticStyle:{"margin-bottom":"10px"}},[i("span",{staticClass:"videoTitle"},[t._v(t._s(t.videoDetail.title))])]),i("div",{staticStyle:{"margin-bottom":"10px"}},[i("span",{staticClass:"smallFont"},[t._v("发布："+t._s(t.videoDetail.publishTime))]),i("span",{staticClass:"smallFont"},[t._v("播放："+t._s(t.videoDetail.playTime)+"次")])]),i("p",[t._v(t._s(t.videoDetail.description))]),i("ul",t._l(t.videoDetail.videoGroup,(function(e){return i("li",{key:e.id,staticClass:"videoTag"},[t._v(" "+t._s(e.name)+" ")])})),0),i("div",[i("span",{staticClass:"smallFont border"},[t._v("赞"+t._s(t.videoDetail.praisedCount))]),i("span",{staticClass:"smallFont border"},[t._v("收藏"+t._s(t.videoDetail.subscribeCount))]),i("span",{staticClass:"smallFont border"},[t._v("分享"+t._s(t.videoDetail.shareCount))])])]),t.videoId?i("div",{staticStyle:{padding:"0px 50px"}},[i("h3",{staticStyle:{margin:"5px 0 10px 0","text-align":"center"}},[t._v(" 评论("+t._s(t.count)+"条) ")]),t._l(t.videoComments,(function(e){return i("div",{key:e.id,staticClass:"hoverBackColor"},[i("img",{staticStyle:{width:"50px","border-radius":"25px"},attrs:{src:e.user.avatarUrl}}),i("span",{staticStyle:{display:"inline-block","margin-left":"10px","font-size":"15px"}},[t._v(t._s(e.user.nickname)+"  :  ")]),i("span",{staticStyle:{"margin-left":"20px",width:"750px"}},[t._v(" "+t._s(e.content)+" ")]),i("div",{staticStyle:{height:"30px"}},[i("span",{staticStyle:{float:"right",width:"130px"}},[t._v("  时间："+t._s(e.timeStr))]),i("span",{staticStyle:{float:"right"}},[t._v(t._s(e.likedCount)+" 赞   ")])])])})),i("div",{staticStyle:{"text-align":"center"}},[0!=t.count?i("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":8,layout:"prev, pager, next, jumper",total:t.count,background:!0},on:{"current-change":t.mvhandleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}}):t._e()],1)],2):t._e()])},s=[],n=i(801),r=i(2211),l={data(){return{mvUrl:"",videoUrl:"",videoDetail:{},videoId:"",videoComments:[],count:"",currentPage:1}},mounted(){this.$route.params.albumId&&localStorage.setItem("albumId",this.$route.params.albumId),this.$route.params.albumId?this.albumId=this.$route.params.albumId:this.albumId=localStorage.getItem("albumId"),this.playVideo()},methods:{mvhandleCurrentChange:function(t){this.currentPage=t,this.playVideo(this.videoId,t)},playVideo(){let t={id:this.videoId};(0,n.kS)(t).then((t=>{this.videoDetail=t.data.data,this.videoDetail.publishTime=(0,r.transtime)(this.videoDetail.publishTime)})),(0,n.cy)(t).then((t=>{this.videoUrl=t.data.urls[0].url}));var e={id:this.videoId,limit:8,offset:8*(this.currentPage-1)};(0,n.qf)(e).then((t=>{this.videoComments=t.data.comments,this.count=t.data.total}))}}},o=l,d=i(3736),u=(0,d.Z)(o,a,s,!1,null,"72fe5c24",null),c=u.exports},2211:function(t){const e=t=>{if(!t)return;let e=new Date(t).getFullYear(),i=new Date(t).getMonth()+1,a=new Date(t).getDate();return e+"-"+i+"-"+a},i=(t,e)=>{for(let i=0;i<t.length;i++){let a=parseInt(t[i][e]/1e3/60),s=parseInt(t[i][e]/1e3%60);a<10&&(a="0"+a),s<10&&(s="0"+s),t[i][e]=a+":"+s}},a=(t,e)=>{for(let i=0;i<t.length;i++)String(t[i][e]).length>5&&String(t[i][e]).length<9?t[i][e]=String(t[i][e]).substr(0,String(t[i][e]).length-4)+"万":5==String(t[i][e]).length?t[i][e]=String(t[i][e]).substr(0,1)+"."+String(t[i][e]).substr(1,2)+"万":9==String(t[i][e]).length?t[i][e]=String(t[i][e]).substr(0,1)+"."+String(t[i][e]).substr(1,2)+"亿":String(t[i][e]).length>9&&(t[i][e]=String(t[i][e]).substr(0,String(t[i][e]).length-8)+"亿")};t.exports={transtime:e,transMusicTime:i,transPlayCount:a}}}]);
//# sourceMappingURL=122.8bc6bbc0.js.map