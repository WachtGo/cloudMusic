{"version":3,"file":"js/150-legacy.c32bfd77.js","mappings":"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","sources":["webpack://music/./src/views/songDetails/songDetails.vue?0a8c","webpack://music/src/views/songDetails/songDetails.vue","webpack://music/./src/views/songDetails/songDetails.vue?02d1","webpack://music/./src/views/songDetails/songDetails.vue","webpack://music/./src/api/download.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list-wrap\"},[_c('h3',[_vm._v(\"歌曲详情\")]),_c('div',{staticClass:\"descript\"}),_c('div',[_c('ul',[(_vm.songId)?_c('div',{staticClass:\"playListDetailes\"},[_c('div',{staticClass:\"playListImg\"},[_c('img',{attrs:{\"src\":_vm.songDetails.al.picUrl,\"alt\":\"\"}})]),_c('div',{staticClass:\"detailsRight\"},[_c('h3',{staticStyle:{\"margin-left\":\"0px\",\"text-align\":\"left\",\"font-size\":\"20px\"}},[_vm._v(\" \"+_vm._s(_vm.songDetails.name)+\" \")]),_c('div',{staticStyle:{\"margin\":\"10px 0 10px 0\",\"height\":\"30px\",\"font-size\":\"14px\"}},[_c('span',{staticClass:\"playListNickName\"},[_vm._v(_vm._s(_vm.songDetails.ar[0].name))]),_c('span',[_c('br'),_vm._v(\" 时长  -  \"),_c('span',{staticStyle:{\"color\":\"antiquewhite\"}},[_vm._v(_vm._s(_vm.songDetails.dt))])]),_c('div',{staticClass:\"option\"},[_c('div',{staticClass:\"flexBetween\"},[_c('span',{staticClass:\"inline-block\",staticStyle:{\"margin-right\":\"5px\"},on:{\"click\":function($event){return _vm.listenMusic(_vm.songDetails.id, _vm.songDetails.fee)}}},[_c('i',{staticClass:\"el-icon-headset iconhover\"})]),(_vm.songDetails.fee == 0 || _vm.songDetails.fee == 8)?_c('span',{staticClass:\"inline-block\",staticStyle:{\"margin-right\":\"5px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.playMusic(_vm.songDetails.id, _vm.songDetails.fee)}}},[_c('i',{staticClass:\"el-icon-folder-add iconhover\"})]):_vm._e(),(Boolean(_vm.songDetails.mv))?_c('span',{staticClass:\"inline-block\",on:{\"click\":function($event){return _vm.playMV(_vm.songDetails.mv)}}},[_c('i',{staticClass:\"el-icon-video-camera iconhover\"}),_vm._v(\"  \")]):_vm._e(),(_vm.songDetails.fee == 0)?_c('span',{staticClass:\"inline-block\",staticStyle:{\"margin-right\":\"5px\"},on:{\"click\":function($event){return _vm.getDownloadUrl(_vm.songDetails.id, _vm.songDetails.name)}}},[_c('i',{staticClass:\"el-icon-download iconhover\"}),_vm._v(\" \")]):_vm._e(),(_vm.songDetails.fee != 0)?_c('span',[_vm._v(\"    \")]):_vm._e()])])]),_c('div',{staticStyle:{\"margin-top\":\"30px\",\"font-size\":\"14px\"}},[_c('span',[_vm._v(_vm._s(_vm.songDetails.alia[0]))])]),_c('br')])]):_vm._e(),_c('div',{staticStyle:{\"padding\":\"0px 50px\"}},[_c('h3',{staticStyle:{\"margin\":\"5px 0 10px 0\"}},[(_vm.commentCount)?_c('span',[_vm._v(\"评论(\"+_vm._s(_vm.commentCount)+\"条)\")]):_vm._e()]),_vm._l((_vm.songComment),function(item){return _c('div',{key:item.id,staticClass:\"hoverBackColor\"},[_c('img',{staticStyle:{\"width\":\"50px\",\"border-radius\":\"25px\"},attrs:{\"src\":item.user.avatarUrl}}),_c('span',{staticStyle:{\"display\":\"inline-block\",\"margin-left\":\"10px\",\"font-size\":\"15px\"}},[_vm._v(_vm._s(item.user.nickname)+\"  :  \")]),_c('span',{staticStyle:{\"margin-left\":\"20px\",\"width\":\"750px\"}},[_vm._v(\" \"+_vm._s(item.content)+\" \")]),_c('div',{staticStyle:{\"height\":\"30px\"}},[_c('span',{staticStyle:{\"float\":\"right\",\"width\":\"130px\"}},[_vm._v(\"  时间：\"+_vm._s(item.timeStr))]),_c('span',{staticStyle:{\"float\":\"right\"}},[_vm._v(_vm._s(item.likedCount)+\" 赞   \")])])])}),_c('div',{staticClass:\"pagination\"},[(_vm.commentCount != 0)?_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":7,\"layout\":\"prev, pager, next, jumper\",\"total\":_vm.commentCount,\"background\":true},on:{\"current-change\":_vm.songhandleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}}):_vm._e()],1)],2),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}]},[_c('aplayer',{attrs:{\"autoplay\":true,\"fixed\":true,\"audio\":_vm.listen,\"liric-type\":1}})],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<style lang=\"less\" scoped>\r\nh3 {\r\n  height: 30px;\r\n  line-height: 30px;\r\n  text-align: center;\r\n}\r\n.descript {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  color: aliceblue;\r\n  font-weight: bolder;\r\n  padding: 10px 20px;\r\n  border-radius: 20px 20px 0 0;\r\n  background: rgba(95, 158, 160, 0.322);\r\n  box-sizing: border-box;\r\n}\r\n.list-wrap {\r\n  margin: 10px auto;\r\n  padding: 0 20px 10px;\r\n  width: 1120px;\r\n  height: 730px;\r\n  border-radius: 20px;\r\n  background: rgba(95, 158, 160, 0.322);\r\n  box-sizing: border-box;\r\n\r\n  ul {\r\n    height: 630px;\r\n    border-radius: 0 0 10px 10px;\r\n    background: rgba(95, 158, 160, 0.322);\r\n    overflow-x: hidden;\r\n\r\n    &::-webkit-scrollbar {\r\n      display: none;\r\n    }\r\n    .playListDetailes {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      margin: 0 auto;\r\n      padding: 10px;\r\n      width: 98%;\r\n      height: 200px;\r\n      // border: 1px solid rgb(97, 226, 183);\r\n      border-radius: 10px;\r\n      background: rgba(34, 173, 197, 0.055);\r\n      box-sizing: border-box;\r\n\r\n      .playListImg {\r\n        display: inline-block;\r\n        // width: 180px;\r\n        // height: 180px;\r\n        border-radius: 10px;\r\n\r\n        img {\r\n          width: 180px;\r\n          height: 180px;\r\n          border-radius: 10px;\r\n          transition: 0.2s;\r\n\r\n          &:hover {\r\n            transform: scale(1.03);\r\n          }\r\n        }\r\n      }\r\n\r\n      .detailsRight {\r\n        width: 820px;\r\n        height: 180px;\r\n        // background: rgb(181, 209, 152);\r\n\r\n        .option {\r\n          display: inline-block;\r\n\r\n          margin-left: 50px;\r\n\r\n          .flexBetween {\r\n            .inline-block {\r\n              display: inline-block;\r\n              transition: 0.2s;\r\n\r\n              &:hover {\r\n                cursor: pointer;\r\n                color: rgb(246, 255, 119);\r\n              }\r\n            }\r\n          }\r\n        }\r\n        .songTns {\r\n          margin: 10px 0 10px 0;\r\n          width: 100%;\r\n          max-height: 75px;\r\n          font-size: 14px;\r\n          overflow-x: hidden;\r\n\r\n          &::-webkit-scrollbar {\r\n            display: none;\r\n          }\r\n        }\r\n        .playListNickName {\r\n          display: inline-block;\r\n          margin-bottom: 10px;\r\n          color: antiquewhite;\r\n        }\r\n      }\r\n    }\r\n\r\n    .music-list {\r\n      display: flex;\r\n      padding: 10px 10px;\r\n      width: 1080px;\r\n      overflow: hidden;\r\n      color: rgba(255, 255, 255, 1);\r\n      font-weight: bolder;\r\n      -o-text-overflow: ellipsis;\r\n      text-overflow: ellipsis;\r\n      // background: rgba(95, 158, 160, 0.322);\r\n      transition: 0.2s;\r\n\r\n      .music-list-span {\r\n        display: inline-block;\r\n        width: 270px;\r\n        text-align: center;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n      }\r\n      .option {\r\n        display: inline-block;\r\n        width: 250px;\r\n        text-align: center;\r\n\r\n        span {\r\n          display: inline-block;\r\n          width: 30px;\r\n          &:hover {\r\n            cursor: pointer;\r\n          }\r\n        }\r\n      }\r\n\r\n      &:hover {\r\n        background: rgba(76, 152, 155, 0.527);\r\n      }\r\n    }\r\n  }\r\n}\r\n.pagination {\r\n  text-align: center;\r\n  background: none !important;\r\n}\r\n/deep/ .el-pager {\r\n  background: none !important;\r\n}\r\n/deep/ .number,\r\n/deep/ .btn-prev,\r\n/deep/ .btn-quicknext,\r\n/deep/ .btn-next,\r\n/deep/ .el-input__inner,\r\n/deep/ .more {\r\n  color: #f2fff7 !important;\r\n  background: transparent !important;\r\n}\r\n/deep/ .number:hover,\r\n/deep/ .btn-prev:hover,\r\n/deep/ .btn-quicknext:hover,\r\n/deep/ .btn-next:hover,\r\n/deep/ .el-input__inner:hover,\r\n/deep/ .more:hover {\r\n  color: #f7a588 !important;\r\n}\r\n/deep/ .active {\r\n  color: #f7a588 !important;\r\n}\r\n/deep/ .el-input__inner {\r\n  border: none;\r\n}\r\n/deep/ .el-pagination__jump {\r\n  color: #f7dd88 !important;\r\n}\r\n.iconhover {\r\n  transition: 0.2s;\r\n  &:hover {\r\n    color: rgb(247, 243, 45);\r\n  }\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div class=\"list-wrap\">\r\n    <h3>歌曲详情</h3>\r\n    <div class=\"descript\"></div>\r\n    <div>\r\n      <ul>\r\n        <div class=\"playListDetailes\"\r\n             v-if=\"songId\">\r\n          <div class=\"playListImg\">\r\n            <img :src=\"songDetails.al.picUrl\"\r\n                 alt=\"\" />\r\n          </div>\r\n          <div class=\"detailsRight\">\r\n            <h3 style=\"margin-left: 0px; text-align: left; font-size: 20px\">\r\n              {{ songDetails.name }}\r\n            </h3>\r\n            <div style=\"margin: 10px 0 10px 0; height: 30px; font-size: 14px\">\r\n              <span class=\"playListNickName\">{{ songDetails.ar[0].name }}</span><span><br />\r\n                时长&nbsp;&nbsp;-&nbsp;&nbsp;<span style=\"color: antiquewhite\">{{ songDetails.dt }}</span></span>\r\n              <div class=\"option\">\r\n                <div class=\"flexBetween\">\r\n                  <span class=\"inline-block\"\r\n                        style=\"margin-right: 5px\"\r\n                        @click=\"listenMusic(songDetails.id, songDetails.fee)\"><i class=\"el-icon-headset iconhover\"></i></span>\r\n                  <!-- 添加到播放列表 -->\r\n                  <span class=\"inline-block\"\r\n                        style=\"margin-right: 5px\"\r\n                        v-if=\"songDetails.fee == 0 || songDetails.fee == 8\"\r\n                        @click.stop=\"playMusic(songDetails.id, songDetails.fee)\"><i class=\"el-icon-folder-add iconhover\"></i>\r\n                  </span>\r\n                  <span class=\"inline-block\"\r\n                        style=\"\"\r\n                        v-if=\"Boolean(songDetails.mv)\"\r\n                        @click=\"playMV(songDetails.mv)\"><i class=\"el-icon-video-camera iconhover\"></i>&nbsp;\r\n                  </span>\r\n\r\n                  <span class=\"inline-block\"\r\n                        style=\"margin-right: 5px\"\r\n                        v-if=\"songDetails.fee == 0\"\r\n                        @click=\"getDownloadUrl(songDetails.id, songDetails.name)\"><i class=\"el-icon-download iconhover\"></i>&nbsp;</span><span v-if=\"songDetails.fee != 0\">&nbsp;&nbsp;&nbsp; </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div style=\"margin-top: 30px; font-size: 14px\">\r\n              <span>{{ songDetails.alia[0] }}</span>\r\n            </div>\r\n            <br />\r\n          </div>\r\n        </div>\r\n\r\n        <div style=\"padding: 0px 50px\">\r\n          <h3 style=\"margin: 5px 0 10px 0\">\r\n            <span v-if=\"commentCount\">评论({{ commentCount }}条)</span>\r\n          </h3>\r\n          <div class=\"hoverBackColor\"\r\n               v-for=\"item in songComment\"\r\n               :key=\"item.id\">\r\n            <img :src=\"item.user.avatarUrl\"\r\n                 style=\"width: 50px; border-radius: 25px\" />\r\n            <span style=\"display: inline-block; margin-left: 10px; font-size: 15px\">{{ item.user.nickname }}&nbsp;&nbsp;:&nbsp;&nbsp;</span>\r\n            <span style=\"margin-left: 20px; width: 750px\">\r\n              {{ item.content }}\r\n            </span>\r\n            <div style=\"height: 30px\">\r\n              <span style=\"float: right; width: 130px\">&nbsp;&nbsp;时间：{{ item.timeStr }}</span><span style=\"float: right\">{{ item.likedCount }} 赞&nbsp;&nbsp;&nbsp;</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"pagination\">\r\n            <el-pagination v-if=\"commentCount != 0\"\r\n                           @current-change=\"songhandleCurrentChange\"\r\n                           :current-page.sync=\"currentPage\"\r\n                           :page-size=\"7\"\r\n                           layout=\"prev, pager, next, jumper\"\r\n                           :total=\"commentCount\"\r\n                           :background=\"true\">\r\n            </el-pagination>\r\n          </div>\r\n        </div>\r\n        <div v-show=\"false\">\r\n          <aplayer :autoplay=\"true\"\r\n                   :fixed=\"true\"\r\n                   :audio=\"listen\"\r\n                   :liric-type=\"1\"></aplayer>\r\n        </div>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getDownloadUrl,\r\n  playMusicUrl,\r\n  getSongLyric,\r\n  getSongDetails,\r\n  getSongComment,\r\n} from \"@/api/api\";\r\nimport { download } from \"@/api/download\";\r\nexport default {\r\n  // props: ['songId'],\r\n  data () {\r\n    return {\r\n      listen: [],\r\n      //评论分页\r\n      currentPage: 1,\r\n      songUrlAdd: null,\r\n      songId: \"\", //接收的歌曲id\r\n      songDetails: {}, //歌曲详情\r\n      songComment: [],\r\n      commentCount: \"\",\r\n      //搜索歌曲总数\r\n      count: \"\",\r\n      //音乐地址\r\n      songurladd: null,\r\n      //歌词\r\n      songlrc: \"\",\r\n    };\r\n  },\r\n  mounted () {\r\n    ////缓存id,解决params数据在刷新页面后丢失，导致无法获取到歌手id\r\n    if (this.$route.params.songId) { localStorage.setItem('songId', this.$route.params.songId) }\r\n    //判断是否使用缓存\r\n    this.$route.params.songId ? this.songId = this.$route.params.songId : this.songId = localStorage.getItem('songId')\r\n    this.getSongDetails();\r\n    this.getSongComment();\r\n\r\n  },\r\n  methods: {\r\n    // 分页\r\n    songhandleCurrentChange (currentPage) {\r\n      var that = this;\r\n      that.currentPage = currentPage;\r\n      that.getSongComment();\r\n    },\r\n    //获取歌曲详情\r\n    getSongDetails () {\r\n      var that = this;\r\n      let params = {\r\n        ids: that.songId,\r\n      };\r\n      getSongDetails(params).then((res) => {\r\n        that.songDetails = res.data.songs[0];\r\n        that.$set(that.songDetails, \"timer\", true);\r\n        let min = parseInt(that.songDetails.dt / 1000 / 60);\r\n        let sec = parseInt((that.songDetails.dt / 1000) % 60);\r\n        if (min < 10) {\r\n          min = \"0\" + min;\r\n        }\r\n        if (sec < 10) {\r\n          sec = \"0\" + sec;\r\n        }\r\n        that.songDetails.dt = min + \":\" + sec;\r\n        // console.log(\"歌曲详情\", res.data.songs[0]);\r\n      });\r\n    },\r\n    //获取歌曲评论\r\n    getSongComment () {\r\n      var that = this;\r\n      let params = {\r\n        id: that.songId,\r\n        limit: 7,\r\n        offset: (that.currentPage - 1) * 7,\r\n      };\r\n      getSongComment(params).then((res) => {\r\n        this.songComment = res.data.comments;\r\n        that.commentCount = res.data.total;\r\n        // console.log(\"歌曲评论：\", res.data);\r\n      });\r\n    },\r\n    //获取播放音乐链接\r\n    listenMusic (id, fee) {\r\n      var that = this;\r\n      if (that.songDetails.timer) {\r\n        if (fee == 1) {\r\n          that.$message({\r\n            message: \"VIP歌曲 - 只能试听30s\",\r\n            type: \"warning\",\r\n          });\r\n        }\r\n        playMusicUrl({\r\n          id: id,\r\n        }).then((res) => {\r\n          // console.log(\"播放音乐链接\", res.data.data[0].url);\r\n          if (res.data.data[0].url) {\r\n            that.songUrlAdd = res.data.data[0].url;\r\n          } else {\r\n            that.$message({\r\n              message: \"不好意思这首歌暂无版权\",\r\n              type: \"error\",\r\n            });\r\n            that.songDetails.timer = false;\r\n            setTimeout(() => {\r\n              that.songDetails.timer = true;\r\n            }, 3000);\r\n            return;\r\n          }\r\n        }),\r\n          // 获取歌词\r\n          getSongLyric({\r\n            id: id,\r\n          }).then((res) => {\r\n            that.songlrc = res.data.lrc.lyric;\r\n          }),\r\n          // 获取歌曲信息\r\n          getSongDetails({\r\n            ids: id,\r\n          }).then((res) => {\r\n            // console.log(\"获取歌曲信息：\", res.data.songs);\r\n            if (that.songUrlAdd != null) {\r\n              that.listen = [];\r\n              that.listen.push({\r\n                name: res.data.songs[0].name, //歌曲名\r\n                artist: res.data.songs[0].ar[0].name, //作者\r\n                url: that.songUrlAdd,\r\n                cover: res.data.songs[0].al.picUrl,\r\n                lrc: that.songlrc,\r\n              });\r\n              that.songUrlAdd = null;\r\n              that.songlrc = \"\";\r\n              that.songDetails.timer = false;\r\n              setTimeout(() => {\r\n                that.songDetails.timer = true;\r\n              }, 3000);\r\n            }\r\n          });\r\n      }\r\n    },\r\n    //添加到播放列表\r\n    playMusic (id, fee) {\r\n      //获取播放音乐链接\r\n      var that = this;\r\n      if (that.songDetails.timer) {\r\n        if (fee == 1) {\r\n          that.$message({\r\n            message: \"VIP歌曲 - 只能试听30s\",\r\n            type: \"warning\",\r\n          });\r\n        }\r\n        playMusicUrl({\r\n          id: id,\r\n        }).then((res) => {\r\n          // console.log(\"播放音乐链接\", res.data.data[0].url);\r\n          if (res.data.data[0].url) {\r\n            that.songUrlAdd = res.data.data[0].url;\r\n          } else {\r\n            that.$message({\r\n              message: \"不好意思这首歌暂无版权\",\r\n              type: \"error\",\r\n            });\r\n            that.songDetails.timer = false;\r\n            setTimeout(() => {\r\n              that.songDetails.timer = true;\r\n            }, 3000);\r\n            return;\r\n          }\r\n        }),\r\n          // 获取歌词\r\n          getSongLyric({\r\n            id: id,\r\n          }).then((res) => {\r\n            that.songlrc = res.data.lrc.lyric;\r\n          }),\r\n          // 获取歌曲信息\r\n          getSongDetails({\r\n            ids: id,\r\n          }).then((res) => {\r\n            // console.log(\"获取歌曲信息，添加到播放器：\", res.data.songs);\r\n            if (that.songUrlAdd != null) {\r\n              that.$store.commit(\"addSONG\", {\r\n                name: res.data.songs[0].name, //歌曲名\r\n                artist: res.data.songs[0].ar[0].name, //作者\r\n                url: that.songUrlAdd,\r\n                cover: res.data.songs[0].al.picUrl,\r\n                lrc: that.songlrc,\r\n                // theme: that.randomColor(),\r\n              });\r\n              // console.log(\r\n              //   that.$store.state.audio,\r\n              //   \"添加歌曲后的歌曲播放列表-----\"\r\n              // );\r\n              that.songUrlAdd = null;\r\n              that.songlrc = \"\";\r\n              that.songDetails.timer = false;\r\n              setTimeout(() => {\r\n                that.songDetails.timer = true;\r\n              }, 3000);\r\n            }\r\n          });\r\n      }\r\n    },\r\n    //获取歌曲下载地址\r\n    getDownloadUrl (songId, songName) {\r\n      var that = this;\r\n      let params = {\r\n        id: songId,\r\n      };\r\n      getDownloadUrl(params).then((res) => {\r\n        // console.log(\"歌曲下载地址：\", res.data.data.url);\r\n        download(res.data.data.url, songName);\r\n        that.$message({\r\n          type: \"success\",\r\n          message: \"开始下载了\",\r\n        });\r\n      });\r\n    },\r\n    playMV (mvId) {\r\n      //获取mv播放链接\r\n      this.$router.push({\r\n        name: \"mvPlay\",\r\n        params: { mvId: mvId },\r\n      });\r\n    },\r\n    //根据主题更换播放器颜色\r\n    randomColor () {\r\n      return `#${((Math.random() * 0xffffff) << 0).toString(16)}`;\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./songDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./songDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./songDetails.vue?vue&type=template&id=9b3d1774&scoped=true&\"\nimport script from \"./songDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./songDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./songDetails.vue?vue&type=style&index=0&id=9b3d1774&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9b3d1774\",\n  null\n  \n)\n\nexport default component.exports","\r\nimport axios from 'axios'\r\nexport const download = function (src, filename) {\r\n    if (!src) {\r\n        return\r\n    }\r\n    let fileName = filename || '' // 文件名\r\n    axios({\r\n        method: 'get',\r\n        url: src,\r\n        responseType: 'blob',\r\n        headers: { 'content-type': 'audio/mpeg' },\r\n    }).then((res) => {\r\n        let blobType = 'application/force-download' // 设置blob请求头\r\n        let blob = new Blob([res.data], { type: res.data.type }) // 创建blob 设置blob文件类型 data 设置为后端返回的文件(例如mp3,jpeg) type:这里设置后端返回的类型 为 mp3\r\n        let downa = document.createElement('a') // 创建A标签\r\n        let href = window.URL.createObjectURL(blob) // 创建下载的链接\r\n        downa.href = href // 下载地址\r\n        downa.download = fileName // 下载文件名\r\n        document.body.appendChild(downa)\r\n        downa.click() // 模拟点击A标签\r\n        document.body.removeChild(downa) // 下载完成移除元素\r\n        window.URL.revokeObjectURL(href) // 释放blob对象\r\n    }).catch(function (error) {\r\n        // console.log(error)\r\n    })\r\n}\r\n\r\n\r\n// import axios from 'axios'\r\n// export const download = function (src, filename,id) {\r\n//     if (!src) {\r\n//         return\r\n//     }\r\n//     let fileName = filename || '' // 文件名\r\n//     axios({\r\n//         method: 'get',\r\n//         url: `https://autumnfish.cn/song/download/url?id=${id}`,\r\n//         responseType: 'blob',\r\n//         headers: { 'content-type': 'audio/mpeg' },\r\n//     }).then((res) => {\r\n//         let blobType = 'application/force-download' // 设置blob请求头\r\n//         let blob = new Blob([res.data], { type: res.data.type }) // 创建blob 设置blob文件类型 data 设置为后端返回的文件(例如mp3,jpeg) type:这里设置后端返回的类型 为 mp3\r\n//         let downa = document.createElement('a') // 创建A标签\r\n//         let href = window.URL.createObjectURL(blob) // 创建下载的链接\r\n//         downa.href = href // 下载地址\r\n//         downa.download = fileName // 下载文件名\r\n//         document.body.appendChild(downa)\r\n//         downa.click() // 模拟点击A标签\r\n//         document.body.removeChild(downa) // 下载完成移除元素\r\n//         window.URL.revokeObjectURL(href) // 释放blob对象\r\n//     }).catch(function (error) {\r\n//         console.log(error)\r\n//     })\r\n// }"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","songDetails","al","picUrl","staticStyle","_s","name","ar","dt","on","$event","listenMusic","id","fee","stopPropagation","playMusic","_e","Boolean","mv","playMV","getDownloadUrl","alia","commentCount","_l","item","key","user","avatarUrl","nickname","content","timeStr","likedCount","currentPage","songhandleCurrentChange","directives","rawName","value","expression","listen","staticRenderFns","data","songUrlAdd","songId","songComment","count","songurladd","songlrc","mounted","$route","params","localStorage","getItem","getSongDetails","getSongComment","methods","that","ids","res","songs","$set","min","sec","limit","offset","total","timer","$message","message","type","playMusicUrl","then","url","setTimeout","getSongLyric","artist","cover","lrc","songName","download","mvId","$router","push","randomColor","component","src","filename","fileName","axios","method","responseType","headers","blob","Blob","downa","document","createElement","href","window","URL","createObjectURL","body","appendChild","click","removeChild","revokeObjectURL","catch","error"],"sourceRoot":""}