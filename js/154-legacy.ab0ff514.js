"use strict";(self["webpackChunkmusic"]=self["webpackChunkmusic"]||[]).push([[154],{8154:function(t,a,s){s.r(a),s.d(a,{default:function(){return m}});var n=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"list-wrap"},[s("h3",[t._v("专辑详情")]),s("div",{staticClass:"descript"}),s("div",[s("div",{staticClass:"ul"},[s("div",{staticClass:"playListDetailes"},[s("div",{staticClass:"playListImg"},[s("img",{attrs:{src:t.albumDesc.blurPicUrl,alt:""}})]),s("div",{staticClass:"detailsRight"},[s("h3",{staticStyle:{"margin-left":"0px","text-align":"left","font-size":"20px"}},[t._v(" "+t._s(t.albumDesc.name)+" ")]),s("div",{staticStyle:{"font-size":"14px"}},[s("div",{staticClass:"aliasClass"},[s("img",{staticClass:"artistPic",attrs:{src:t.albumDesc.artist.img1v1Url,alt:""}}),t._v("- "),s("span",{staticClass:"playListNickName"},[t._v(t._s(t.albumDesc.artist.name))])])])])]),s("div",{attrs:{id:"singleSongs"}},[s("h3",[t._v("专辑歌曲："+t._s(t.albumSongs.length)+"首")]),t._l(t.albumSongs,(function(a,n){return s("div",{key:n,staticClass:"SingsList"},[s("span",{staticClass:"song-list",staticStyle:{width:"20px"}},[t._v(t._s(n+1)+".")]),s("div",{on:{dblclick:function(s){return t.goSongDetails(a.id)}}},[s("span",{staticClass:"song-list",staticStyle:{width:"350px"}},[t._v(" "+t._s(a.name)+" ")]),s("span",{staticClass:"song-list",staticStyle:{width:"250px","text-align":"center"}},[t._v(" "+t._s(a.ar[0].name)+" ")]),s("span",{staticClass:"song-list",staticStyle:{width:"230px"}},[t._v(" "+t._s(a.dt)+" ")]),s("span",{staticClass:"song-list",staticStyle:{width:"150px"}})]),s("span",{staticClass:"song-list song-list-option"},[s("span",{on:{click:function(s){return s.stopPropagation(),t.listenMusic(a.id,a.fee,n)}}},[s("i",{staticClass:"el-icon-headset iconhover"})]),0==a.fee||8==a.fee?s("span",{on:{click:function(s){return s.stopPropagation(),t.playMusic(a.id,a.fee,n)}}},[s("i",{staticClass:"el-icon-folder-add iconhover"})]):t._e(),Boolean(a.mv)?s("span",{on:{click:function(s){return s.stopPropagation(),t.playMV(a.mv)}}},[s("i",{staticClass:"el-icon-video-camera iconhover"})]):t._e(),0==a.fee?s("span",{on:{click:function(s){return s.stopPropagation(),t.getDownloadUrl(a.id,a.name)}}},[s("i",{staticClass:"el-icon-download iconhover"})]):t._e()])])}))],2)])]),s("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[s("aplayer",{attrs:{autoplay:!0,fixed:!0,audio:t.listen,"liric-type":1}})],1)])},e=[],i=s(8439),l=(s(8309),s(1539),s(9714),s(801)),o=s(9012),r={data:function(){return{listen:[],albumId:"",albumSongs:[],albumDesc:{}}},mounted:function(){this.$route.params.albumId&&localStorage.setItem("albumId",this.$route.params.albumId),this.$route.params.albumId?this.albumId=this.$route.params.albumId:this.albumId=localStorage.getItem("albumId"),this.getAlbumContent()},methods:{getAlbumContent:function(){var t=this,a={id:t.albumId};(0,l.Li)(a).then((function(a){t.albumDesc=a.data.album,t.albumSongs=a.data.songs;var s,n=(0,i.Z)(t.albumSongs);try{for(n.s();!(s=n.n()).done;){var e=s.value;t.$set(e,"timer",!0)}}catch(o){n.e(o)}finally{n.f()}var l="dt";t.transMusicTime(t.albumSongs,l)}))},transMusicTime:function(t,a){for(var s=0;s<t.length;s++){var n=parseInt(t[s][a]/1e3/60),e=parseInt(t[s][a]/1e3%60);n<10&&(n="0"+n),e<10&&(e="0"+e),t[s][a]=n+":"+e}},getDownloadUrl:function(t,a){var s=this,n={id:t};(0,l.km)(n).then((function(t){(0,o.L)(t.data.data.url,a),s.$message({type:"success",message:"开始下载了"})}))},listenMusic:function(t,a,s){var n=this;n.albumSongs[s].timer&&(1==a&&n.$message({message:"VIP歌曲 - 只能试听30s",type:"warning"}),(0,l.vJ)({id:t}).then((function(t){if(!t.data.data[0].url)return n.$message({message:"不好意思这首歌暂无版权",type:"error"}),n.albumSongs[s].timer=!1,void setTimeout((function(){n.albumSongs[s].timer=!0}),3e3);n.songUrlAdd=t.data.data[0].url})),(0,l.mq)({id:t}).then((function(t){n.songlrc=t.data.lrc.lyric})),(0,l.t7)({ids:t}).then((function(t){null!=n.songUrlAdd&&(n.listen=[],n.listen.push({name:t.data.songs[0].name,artist:t.data.songs[0].ar[0].name,url:n.songUrlAdd,cover:t.data.songs[0].al.picUrl,lrc:n.songlrc}),n.songUrlAdd=null,n.songlrc="")})))},playMusic:function(t,a,s){var n=this;n.albumSongs[s].timer&&(1==a&&n.$message({message:"VIP歌曲 - 只能试听30s",type:"warning"}),(0,l.vJ)({id:t}).then((function(t){if(!t.data.data[0].url)return n.$message({message:"不好意思这首歌暂无版权",type:"error"}),n.albumSongs[s].timer=!1,void setTimeout((function(){n.albumSongs[s].timer=!0}),3e3);n.songUrlAdd=t.data.data[0].url})),(0,l.mq)({id:t}).then((function(t){n.songlrc=t.data.lrc.lyric})),(0,l.t7)({ids:t}).then((function(t){null!=n.songUrlAdd&&(n.$store.commit("addSONG",{name:t.data.songs[0].name,artist:t.data.songs[0].ar[0].name,url:n.songUrlAdd,cover:t.data.songs[0].al.picUrl,lrc:n.songlrc}),n.songUrlAdd=null,n.songlrc="",n.albumSongs[s].timer=!1,setTimeout((function(){n.albumSongs[s].timer=!0}),3e3))})))},goSongDetails:function(t){this.$router.push({name:"songDetails",params:{songId:t}})},playMV:function(t){this.$router.push({name:"mvPlay",params:{mvId:t}})},goMv:function(t){this.$router.push({name:"mvPlay",params:{mvId:t}})},randomColor:function(){return"#".concat((16777215*Math.random()<<0).toString(16))}}},c=r,u=s(3736),d=(0,u.Z)(c,n,e,!1,null,"8c5b7f68",null),m=d.exports},9012:function(t,a,s){s.d(a,{L:function(){return i}});s(1539),s(8783),s(3948),s(285),s(1637);var n=s(6265),e=s.n(n),i=function(t,a){if(t){var s=a||"";e()({method:"get",url:t,responseType:"blob",headers:{"content-type":"audio/mpeg"}}).then((function(t){var a=new Blob([t.data],{type:t.data.type}),n=document.createElement("a"),e=window.URL.createObjectURL(a);n.href=e,n.download=s,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(e)})).catch((function(t){}))}}}}]);
//# sourceMappingURL=154-legacy.ab0ff514.js.map