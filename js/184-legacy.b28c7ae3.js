(self["webpackChunkmusic"]=self["webpackChunkmusic"]||[]).push([[184],{6184:function(t,a,e){"use strict";e.r(a),e.d(a,{default:function(){return p}});var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"list-wrap"},[e("div",[e("div",{staticClass:"inline-block",staticStyle:{padding:"5px 0"}},[e("span",{staticStyle:{"font-size":"16px"}},[t._v("热门歌单分类：")]),t._l(t.hotPlaylistTag,(function(a){return e("span",{key:a.id,staticClass:"hotCategary",on:{click:function(e){return t.getPlaylist(a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2),e("div",{staticClass:"inline-block clearfix ",staticStyle:{float:"right",padding:"5px 0"}},[e("span",{staticStyle:{color:"#eee"}},[t._v("当前：")]),e("span",{staticClass:"categary-select"},[t._v(t._s(t.currentTag))]),t._v(" - "),e("span",{staticStyle:{color:"#eee"}},[t._v(" 排列：")]),"最热"===t.order?e("span",{staticClass:"categary-select",on:{click:function(a){t.order="最新"}}},[t._v("最热")]):t._e(),"最新"===t.order?e("span",{staticClass:"categary-select",on:{click:function(a){t.order="最热"}}},[t._v("最新")]):t._e(),t._v(" - "),e("span",{staticClass:"categary-allTag",on:{click:function(a){t.categaryShow=!t.categaryShow}}},[t._v(" 全部分类")]),t.categaryShow?e("div",{staticClass:"categary-allTag-wrap"},[t._l(t.categories,(function(a,n){return e("div",{key:n,staticClass:"categary-allTag-wrap-list"},[e("div",[e("span",[t._v(t._s(a)+":")])]),e("div",{staticClass:"categary-allTag-wrap-list-item"},t._l(t.categoryTag[n],(function(a,n){return e("span",{key:n,on:{click:function(e){return t.getPlaylist(a.name)}}},[t._v(t._s(a.name))])})),0)])})),e("div",{staticClass:"categary-allTag-wrap-list"},[t._m(0),e("div",{staticClass:"categary-allTag-wrap-list-item"},[e("span",{on:{click:function(a){return t.getPlaylist("全部")}}},[t._v("全部")])])])],2):t._e()])]),e("div",{staticClass:"playListClass"},[e("div",{staticClass:"recPlay"},[e("h3",{directives:[{name:"show",rawName:"v-show",value:0===t.playListTable.length,expression:"playListTable.length === 0"}],staticStyle:{"text-align":"center"}},[e("i",{staticClass:"el-icon-loading"})]),e("ul",{staticClass:"playListWrap"},t._l(t.playListTable,(function(a,n){return e("li",{key:n,staticClass:"playListTable"},[e("div",{staticClass:"image"},[e("img",{attrs:{src:a.coverImgUrl,alt:"",title:""},on:{click:function(e){return t.goSongList(a.id)}}}),e("span",{staticClass:"playCount"},[e("i",{staticClass:"el-icon-video-play",staticStyle:{"margin-right":"1px"}}),t._v(t._s(a.playCount))])]),e("p",{staticClass:"List-title",on:{click:function(e){return t.goSongList(a.id)}}},[e("span",[t._v(t._s(a.name)+" ")])])])})),0)])])]),e("div",{staticClass:"pagination"},[e("el-pagination",{directives:[{name:"show",rawName:"v-show",value:0!==t.count,expression:"count !== 0"}],attrs:{"current-page":t.currentPage,"page-size":15,layout:"prev, pager, next, jumper",total:t.count,background:!0},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(a){t.currentPage=a},"update:current-page":function(a){t.currentPage=a}}})],1)])},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("span",[t._v("全部:")])])}],i=e(8534),s=(e(6133),e(1539),e(4747),e(86),e(801)),c=e(767),l={data:function(){return{hotPlaylistTag:[],categaryShow:!1,order:"最新",currentTag:"全部",categories:{},categoryTag:{0:[],1:[],2:[],3:[],4:[]},playListTable:[],count:0,currentPage:1}},watch:{order:function(){this.getPlaylist(this.currentTag)}},mounted:function(){this.getHotPlayList(),this.getAllPlayList(),this.getPlaylist(this.currentTag)},methods:{getHotPlayList:function(){var t=this;(0,s.ip)().then((function(a){t.hotPlaylistTag=a.data.tags}))},getAllPlayList:function(){var t=this;(0,s.m8)().then((function(a){t.categories=a.data.categories;var e=function(e){a.data.sub.forEach((function(a){a.category==e&&t.categoryTag[e].push(a)}))};for(var n in t.categoryTag)e(n)}))},getPlaylist:function(t,a){var e=this;return(0,i.Z)(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e,i={cat:t,order:r.order,limit:15,offset:15*(r.currentPage-1)},r.categaryShow=!1,r.currentTag!==t||!a){n.next=5;break}return n.abrupt("return");case 5:return r.playListTable=[],r.currentTag=t,n.next=9,(0,s.A5)(i).then((function(t){r.playListTable=t.data.playlists,r.count=t.data.total,(0,c.transPlayCount)(r.playListTable,"playCount")}));case 9:case"end":return n.stop()}}),n)})))()},goSongList:function(t){var a=this;a.$router.push({name:"playListDetails",params:{songListId:t}})},handleCurrentChange:function(t){var a=this;a.currentPage=t,a.getPlaylist(a.currentTag,!1)}}},o=l,u=e(1001),g=(0,u.Z)(o,n,r,!1,null,"79ac4216",null),p=g.exports},86:function(t,a,e){"use strict";var n=e(2109),r=e(4230),i=e(3429);n({target:"String",proto:!0,forced:i("sub")},{sub:function(){return r(this,"sub","","")}})},767:function(t,a,e){e(1539),e(8783),e(3948),e(285),e(1637);var n=function(t){if(t){var a=new Date(t).getFullYear(),e=new Date(t).getMonth()+1,n=new Date(t).getDate();return a+"-"+e+"-"+n}},r=function(t,a){for(var e=0;e<t.length;e++){var n=parseInt(t[e][a]/1e3/60),r=parseInt(t[e][a]/1e3%60);n<10&&(n="0"+n),r<10&&(r="0"+r),t[e][a]=n+":"+r}},i=function(t,a){for(var e=0;e<t.length;e++)String(t[e][a]).length>5&&String(t[e][a]).length<9?t[e][a]=String(t[e][a]).substr(0,String(t[e][a]).length-4)+"万":5==String(t[e][a]).length?t[e][a]=String(t[e][a]).substr(0,1)+"."+String(t[e][a]).substr(1,2)+"万":9==String(t[e][a]).length?t[e][a]=String(t[e][a]).substr(0,1)+"."+String(t[e][a]).substr(1,2)+"亿":String(t[e][a]).length>9&&(t[e][a]=String(t[e][a]).substr(0,String(t[e][a]).length-8)+"亿")},s=function(t,a){fetch(t).then((function(t){return t.blob()})).then((function(t){var e=document.createElement("a");document.body.appendChild(e),e.style.display="none";var n=window.URL.createObjectURL(t);e.href=n,e.download="".concat(a,".mp3"),e.click(),document.body.removeChild(e),window.URL.revokeObjectURL(n)}))},c=function(){return(new Date).getTime()},l=function(t,a){return Math.floor(Math.random()*(a-t))+t};t.exports={transtime:n,transMusicTime:r,transPlayCount:i,download:s,getTimestamp:c,randomRange:l}}}]);
//# sourceMappingURL=184-legacy.b28c7ae3.js.map